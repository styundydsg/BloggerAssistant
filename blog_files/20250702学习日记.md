---
title: 20250702学习日记
date: 2025-07-02 21:31:59
tags: 学习日记
categories: 日记
---

今天对podman进行了更深入地学习,包括podman对pod的创建,然后使用映像文件将容器创建在pod里  
还有创建网络,对pod的网络进行指定(只在创建时还是有点不方便的)

了解到一个pod迁移方式:
将现有 Pod 导出为 Compose 风格 YAML
你可以用 podman generate kube 从已有 Pod 自动导出配置文件，方便迁移或复用：

# 创建 Pod 和容器
podman pod create --name mypod
podman run -dt --pod mypod --name web nginx:alpine
podman run -dt --pod mypod --name sidecar busybox sh -c "while true; do echo hello; sleep 10; done"

# 生成 Kubernetes 风格 YAML
podman generate kube mypod > pod-compose.yaml
然后你可以用 pod-compose.yaml 作为配置模板修改后再部署：

podman play kube pod-compose.yaml


基础设施容器:
在Podman中，Pod创建时会自动生成一个名为“infra”的基础设施容器（也称Pause容器），它的核心作用是初始化并维护Pod的网络命名空间，使Pod内所有容器能共享同一个网络环境、IP地址，从而实现它们之间通过localhost互相通信。这个轻量级且对用户隐藏的容器几乎不占用资源，但其生命周期与Pod绑定，确保即使Pod内没有其他容器运行，网络环境也能保持存活，直到Pod被删除时一同销毁。这种设计简化了网络管理，提高了资源利用率，并提升了可维护性，其理念与Kubernetes中的Pause容器类似，都是为了解决多容器共享网络的问题。